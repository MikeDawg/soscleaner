<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>soscleaner by jduncan-rva</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">soscleaner</h1>
        <ul>
          <li class="download"><a class="sidebar github" href="https://github.com/jduncan-rva/soscleaner/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="sidebar github" href="https://github.com/jduncan-rva/soscleaner/tarball/master">Download TAR</a></li>
          <li class="download"><a class="sidebar button" href="http://copr.fedoraproject.org/coprs/jduncan/soscleaner/" target=_blank>COPR Repos</a></li>
          <li class="download"><a class="sidebar button" href="https://pypi.python.org/pypi?:action=display&name=soscleaner" target=_blank>PyPi</a></li>
          <li class="download"><a class="sidebar rss" href="https://groups.google.com/forum/#!forum/soscleaner-announce" target=_blank>Announce List</a></li>
          <li class="download"><a class="sidebar rss" href="https://groups.google.com/forum/#!forum/soscleaner-dev" target=_blank>Devel List</a></li>
          <li class="download"><a class="sidebar button" href="http://people.redhat.com/jduncan/soscleaner/" target=_blank>SRPMs</a></li>
          <li class="download"><a class="sidebar github" href="https://github.com/jduncan-rva/soscleaner/wiki" target=_blank>Wiki</a></li>
          <li class="download"><a class="sidebar github" href="https://github.com/jduncan-rva/soscleaner/issues" target=_blank>Issues</a></li>
          <li class="download"><a class="sidebar github" href="https://github.com/jduncan-rva/soscleaner/issues/new" target=_blank>Report Issue</a></li>
          <li class="download"><a class="sidebar github" href="https://github.com/jduncan-rva/soscleaner/releases" target=_blank>Releases</a></li>
          <li class="download"><a class="sidebar github" href="https://github.com/jduncan-rva/soscleaner">GitHub</a></li>
        </ul>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> based on the Dinky theme</small></p>
      </header>
      <section>
<h2><a name="purpose" class="anchor" href="#purpose"><span class="octicon octicon-link"></span></a>Purpose</h2>

<p>SOSCleaner helps users in environments that have data export restrictions clean up an sosreport so it can be safely uploaded to a support group for analysis. IT IS NOT ALL that should be done for this process, but it does help with the most common and repetitive items.</p>

<h2><a name="news" class="anchor" href="#news"><span class="octicon octicon-link"></span></a>Latest News</h2>
<ul>
<li><strong>20140815 - Version 0.2.2 coming 8/26</strong><br/>
Version 0.2.2 will be pushed out on or about 8/19. tons of fun stuff coming in it.
</li>
<li><strong>20140720 - Version 0.2.1 coming 7/21</strong><br/>
The biggest enhancement is the ability to add addtional files to be analyzed, or even analyze only a handful of specific files without an sosreport. This is available in the master branch now, and will be tagged and released on 7/17.
</li>
<li><strong>20140718 - soscleaner is in Fedora!</strong><br/>
Successfully submitted to Fedora, soscleaner is currently in the F20 updates-testing repository for download and testing. It will be in the standard updates repo soon!
</li>
<li><strong>20140718 - soscleaner is in EPEL 6 / EPEL 7 Beta</strong><br/>
Successfully submitted to EPEL, we're just waiting on gears to turn. It will go into the epel-testing repo first, and then on into the standard repo.
</li>
</ul>

<h2><a name="what-does-it-do" class="anchor" href="#what-does-it-do"><span class="octicon octicon-link"></span></a>What Does it Do?</h2>

<p>Scrubs Binary Files - Binary Files cannot easily be visually scanned. They are left out of a 'cleaned' sosreport</p>
<p>IP Address Obfuscation - IPv4 addresses in the sosreport are obfuscated consistently throughout all files.  For example, if 192.168.100.5 is obfuscated to 10.0.0.68, it will appear as 10.0.0.68 in all files within the sosreport. This means that troubleshooting can still take place.</p>
<p>Hostname Obfuscation - Hostnames are obfuscated consistently troughout all files, much like the IP Address functionality. Based on the system's hostname, if the hostname for the system in question is an FQDN (Fully Qualified Domain Name), all hostnames on that domain are obfuscated. If the hostname is NOT an FQDN, then all examples of that hostname itself are obfuscated.</p>

<h2><a name="usage-basics" class="anchor" href="#usage-basics"><span class="octicon octicon-link"></span></a>Usage Basics</h2>

<p>As a Python Module</p>
<pre><code>from SOSCleaner import SOSCleaner
x = SOSCleaner()
x.clean_report('/path/to/sosreport')
</code></pre>

<p>If intalling the RPM and/or using the executable </p>
<pre><code>$ /usr/bin/soscleaner --help
Usage: soscleaner [-ldfq] /path/to/sosreport

Options:
  --version             show program's version number and exit
  -h, --help            show this help message and exit
  -l LOGLEVEL, --log_level=LOGLEVEL
                        The Desired Log Level (default = INFO) Options are
                        DEBUG, INFO, WARNING, ERROR
  -d DOMAIN, --domain=DOMAIN
                        additional domain to obfuscate (optional). use a flag
                        for each additional domain
  -f FILES, --file=FILES
                        addtional files to be analyzed in addition to or in
                        exception of sosreport
  -q, --quiet           disable output to STDOUT

</code></pre>

<h2><a name="how-do-i-see-the-obfuscated-data" class="anchor" href="#how-do-i-see-the-obfuscated-data"><span class="octicon octicon-link"></span></a>How Do I See The Obfuscated Data?</h2>

<p>The data is available from within the Python class, and as an option passed into the executable script.</p>
<p>If accessing the Python class directly </p>
<pre><code>from soscleaner import SOSCleaner
x = SOSCleaner()
x.clean_report('/path/to/sosreport')

x.ip_db
{'192.168.1.4':'10.10.10.123', ...}

x.hn_db
{'server1.myserverfarm.com':'host0.example.com'}
</code></pre>

<p>If using the command-line application</p>
<pre><code># soscleaner ~/sosreport.tar.gz
Working Directory - /tmp/soscleaner-20131209111927
...
# ll /tmp/soscleaner*
-rw-r--r--. 1 root root      54 Dec  9 06:19 /tmp/soscleaner-20131209111927-hostname.csv
-rw-r--r--. 1 root root    3442 Dec  9 06:19 /tmp/soscleaner-20131209111927-ip.csv
-rw-r--r--. 1 root root    3542 Dec  9 06:19 /tmp/soscleaner-20131209111927-dn.csv
-rw-r--r--. 1 root root    1676 Dec  9 06:20 /tmp/soscleaner-20131209111927.log
-rw-r--r--. 1 root root 4834715 Dec  9 06:20 /tmp/soscleaner-20131209111927.tar.gz
</code></pre>

<h2><a name="what-is-created" class="anchor" href="#what-is-created"><span class="octicon octicon-link"></span></a>What Is Created?</h2>

<ul>
<li>soscleaner-$session.log is a log of all events that occurred</li>
<li>soscleaner-$session.tar.gz is a gzip'd tarball containing the obfuscated sosreport</li>
<li>soscleaner-$session-hostname.csv is a csv of hostnames that have been obfuscated</li>
<li>soscleaner-$session-ip.csv is a csv of ip addresses that have been obfuscated</li>
<li>soscleaner-$session-dn.csv is a csv of domainnames that have been obfuscated</li>
</ul>
</section>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

  </body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52755130-1', 'auto');
  ga('send', 'pageview');

</script>
</html>
